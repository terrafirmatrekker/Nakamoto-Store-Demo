{"ast":null,"code":"// OP_RETURN {data}\nvar bscript = require('../script');\n\nvar types = require('../types');\n\nvar typeforce = require('typeforce');\n\nvar OPS = require('bitcoin-ops');\n\nfunction check(script) {\n  var buffer = bscript.compile(script);\n  return buffer.length > 1 && buffer[0] === OPS.OP_RETURN;\n}\n\ncheck.toJSON = function () {\n  return 'null data output';\n};\n\nfunction encode(data) {\n  // Allow arrays types since decompile returns an array too\n  typeforce(typeforce.oneOf(types.Buffer, types.Array), data);\n  return bscript.compile([OPS.OP_RETURN].concat(data));\n}\n\nfunction decode(buffer) {\n  typeforce(check, buffer);\n  var chunks = bscript.decompile(buffer);\n  chunks.shift();\n  return chunks.length === 1 ? chunks[0] : chunks;\n}\n\nmodule.exports = {\n  output: {\n    check: check,\n    decode: decode,\n    encode: encode\n  }\n};","map":null,"metadata":{},"sourceType":"script"}