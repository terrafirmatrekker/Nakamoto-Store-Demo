{"ast":null,"code":"import _classCallCheck from \"/Users/tejas/Desktop/marketplace2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport { hash160, sha256 } from \"@renproject/utils\";\nimport { Opcode } from \"./opcodes\";\n\nvar checksum = function checksum(hash) {\n  return sha256(sha256(hash)).slice(0, 4);\n};\n\nexport var Script = function Script() {\n  var _this = this;\n\n  _classCallCheck(this, Script);\n\n  this.OP = Opcode;\n\n  this.addOp = function (op) {\n    _this.script = Buffer.concat([_this.script, Buffer.from([op])]);\n    return _this;\n  };\n\n  this.addData = function (data) {\n    _this.script = Buffer.concat([_this.script, Buffer.from([data.length]), data]);\n    return _this;\n  };\n\n  this.toBuffer = function () {\n    return _this.script;\n  };\n\n  this.toScriptHashOut = function () {\n    return new Script().addOp(Script.OP.OP_HASH160).addData(hash160(_this.toBuffer())).addOp(Script.OP.OP_EQUAL).toBuffer();\n  };\n\n  this.toAddress = function (prefix) {\n    // Hash\n    var hash = hash160(_this.toBuffer()); // Prepend prefix\n\n    var hashWithPrefix = Buffer.concat([prefix, hash]); // Append checksum\n\n    var hashWithChecksum = Buffer.concat([hashWithPrefix, checksum(hashWithPrefix)]);\n    return hashWithChecksum;\n  };\n\n  this.script = Buffer.from([]);\n};\nScript.OP = Opcode;","map":null,"metadata":{},"sourceType":"module"}