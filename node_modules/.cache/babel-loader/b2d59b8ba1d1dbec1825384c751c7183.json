{"ast":null,"code":"// {signature} {pubKey}\nvar bscript = require('../../script');\n\nvar typeforce = require('typeforce');\n\nfunction isCompressedCanonicalPubKey(pubKey) {\n  return bscript.isCanonicalPubKey(pubKey) && pubKey.length === 33;\n}\n\nfunction check(script) {\n  var chunks = bscript.decompile(script);\n  return chunks.length === 2 && bscript.isCanonicalSignature(chunks[0]) && isCompressedCanonicalPubKey(chunks[1]);\n}\n\ncheck.toJSON = function () {\n  return 'witnessPubKeyHash input';\n};\n\nfunction encodeStack(signature, pubKey) {\n  typeforce({\n    signature: bscript.isCanonicalSignature,\n    pubKey: isCompressedCanonicalPubKey\n  }, {\n    signature: signature,\n    pubKey: pubKey\n  });\n  return [signature, pubKey];\n}\n\nfunction decodeStack(stack) {\n  typeforce(check, stack);\n  return {\n    signature: stack[0],\n    pubKey: stack[1]\n  };\n}\n\nmodule.exports = {\n  check: check,\n  decodeStack: decodeStack,\n  encodeStack: encodeStack\n};","map":null,"metadata":{},"sourceType":"script"}