{"ast":null,"code":"'use strict';\n\nvar _ = require('lodash');\n\nvar bs58 = require('bs58');\n\nvar buffer = require('buffer');\n\nvar ALPHABET = '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'.split('');\n\nvar Base58 = function Base58(obj) {\n  /* jshint maxcomplexity: 8 */\n  if (!(this instanceof Base58)) {\n    return new Base58(obj);\n  }\n\n  if (Buffer.isBuffer(obj)) {\n    var buf = obj;\n    this.fromBuffer(buf);\n  } else if (typeof obj === 'string') {\n    var str = obj;\n    this.fromString(str);\n  } else if (obj) {\n    this.set(obj);\n  }\n};\n\nBase58.validCharacters = function validCharacters(chars) {\n  if (buffer.Buffer.isBuffer(chars)) {\n    chars = chars.toString();\n  }\n\n  return _.all(_.map(chars, function (char) {\n    return _.contains(ALPHABET, char);\n  }));\n};\n\nBase58.prototype.set = function (obj) {\n  this.buf = obj.buf || this.buf || undefined;\n  return this;\n};\n\nBase58.encode = function (buf) {\n  if (!buffer.Buffer.isBuffer(buf)) {\n    throw new Error('Input should be a buffer');\n  }\n\n  return bs58.encode(buf);\n};\n\nBase58.decode = function (str) {\n  if (typeof str !== 'string') {\n    throw new Error('Input should be a string');\n  }\n\n  return new Buffer(bs58.decode(str));\n};\n\nBase58.prototype.fromBuffer = function (buf) {\n  this.buf = buf;\n  return this;\n};\n\nBase58.prototype.fromString = function (str) {\n  var buf = Base58.decode(str);\n  this.buf = buf;\n  return this;\n};\n\nBase58.prototype.toBuffer = function () {\n  return this.buf;\n};\n\nBase58.prototype.toString = function () {\n  return Base58.encode(this.buf);\n};\n\nmodule.exports = Base58;","map":null,"metadata":{},"sourceType":"script"}